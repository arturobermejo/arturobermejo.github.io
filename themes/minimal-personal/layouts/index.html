{{ define "main" }}
{{ $posts := where .Site.RegularPages "Section" "blog" }}
{{ if $posts }}
<div class="post-list">
    {{ range first 10 $posts }}
    <article class="post-item">
        <div class="post-meta">{{ .Date.Format "January 2, 2006" }}</div>
        <h2 class="post-title"><a href="{{ .Permalink }}">{{ .Title }}</a></h2>
        <div class="post-excerpt">{{ .Summary | truncate 200 }}</div>
        <a href="{{ .Permalink }}" class="read-more">Read more →</a>
        
        {{ if .Params.tags }}
        <div class="post-tags">
            {{ range .Params.tags }}
            <a href="{{ "/tags/" | relURL }}{{ . | urlize }}" class="tag">#{{ . }}</a>
            {{ end }}
        </div>
        {{ end }}
    </article>
    {{ end }}
</div>

<!-- Show more posts link if there are more than 10 -->
{{ if gt (len $posts) 10 }}
<div class="text-center mt-4">
    <a href="{{ "blog" | relURL }}" class="read-more">View all posts →</a>
</div>
{{ end }}

{{ else }}
<!-- No posts message -->
<div class="no-posts">
    <h2>Welcome to my blog</h2>
    <p>No posts have been published yet. Check back soon for new content!</p>
</div>
{{ end }}
{{ end }} 